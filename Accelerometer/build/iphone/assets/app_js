!function(){Titanium.UI.setBackgroundColor("#000");var e=Titanium.UI.createTabGroup(),t=Titanium.UI.createWindow({title:"Yi Accelerometer",backgroundColor:"#FFF",fullscreen:!1,exitOnClose:!0,navBarHidden:!1,tabBarHidden:!0}),i=Titanium.UI.createTab({icon:"KS_nav_views.png",title:"Yi Wu",window:t});e.addTab(i),opts={color:"black",font:{fontSize:20},text:"-",top:20,left:10,width:300};var o=Ti.UI.createLabel({color:"black",font:{fontSize:20},top:20,left:10,width:300});t.add(o);var a=Ti.UI.createLabel({color:"black",font:{fontSize:20},top:40,left:10,width:300});t.add(a);var n=Ti.UI.createLabel({color:"black",font:{fontSize:20},text:"-",top:60,left:10,width:300});t.add(n);var r=Ti.UI.createButton({title:"Submit",top:120,font:{fontSize:25},width:100,height:50});t.add(r),r.addEventListener("click",function(){Ti.API.info(o.text),Ti.API.info(a.text),Ti.API.info(n.text);var e=o.text.split(" "),t=a.text.split(" "),i=n.text.split(" "),r=e[1],l=t[1],c=i[1];if(null!=r&&null!=l&&null!=c){var d=Titanium.Network.createHTTPClient(),u="http://www.octapex.com/codingtest/submit.php";d.open("POST",u,!0),d.send({x:r,y:l,z:c,name:"Yi Titanium"}),d.onload=function(){if(Ti.API.info(this.responseText),"1"==this.responseText){var e=Titanium.UI.createAlertDialog({title:"Success!",message:"You have successfuly submitted accelerometer",buttonNames:["OK"]});e.show()}else{var t=Titanium.UI.createAlertDialog({title:"Error!",message:"Submit fall.  please try again later.",buttonNames:["OK"]});t.show()}},d.onerror=function(e){Ti.API.debug(e.error),alert("error")}}});var l=function(e){o.text="x: "+e.x,a.text="y: "+e.y,n.text="z: "+e.z};"Simulator"===Ti.Platform.model||-1!==Ti.Platform.model.indexOf("sdk")?alert("Accelerometer does not work on a virtual device"):(Ti.Accelerometer.addEventListener("update",l),"android"===Ti.Platform.name&&(Ti.Android.currentActivity.addEventListener("pause",function(){Ti.API.info("removing accelerometer callback on pause"),Ti.Accelerometer.removeEventListener("update",l)}),Ti.Android.currentActivity.addEventListener("resume",function(){Ti.API.info("adding accelerometer callback on resume"),Ti.Accelerometer.addEventListener("update",l)}))),e.open()}();